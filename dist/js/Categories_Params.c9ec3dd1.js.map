{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/components/commodity/Categories.vue?621a","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/components/commodity/Params.vue?0f9f","webpack:///src/components/commodity/Params.vue","webpack:///./src/components/commodity/Params.vue?e159","webpack:///./src/components/commodity/Params.vue","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/components/commodity/Params.vue?1a60","webpack:///./src/components/commodity/Categories.vue?5a46","webpack:///src/components/commodity/Categories.vue","webpack:///./src/components/commodity/Categories.vue?2380","webpack:///./src/components/commodity/Categories.vue"],"names":["$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","module","exports","requireObjectCoercible","toString","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","replace","start","end","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","arg","i","k","length","len","E","A","n","arguments","TypeError","render","_vm","_h","$createElement","_c","_self","attrs","path","_v","staticClass","cateList","cateProps","on","cateChange","model","value","callback","$$v","selectedKeys","expression","handleClick","activeName","isBtnDisabled","$event","addAttrDialogVisible","manyData","scopedSlots","_u","key","fn","scope","_l","row","item","index","removeValTag","_s","ref","handleInputConfirm","nativeOn","type","indexOf","_k","keyCode","$set","showInput","showEditAttrDialog","attr_id","removeAttrById","_e","onlyData","titleContent","addAttrDialogclosed","addAttrForm","addAttrFormRules","preventDefault","slot","saveAddAttr","editAttrDialogVisible","editAttrDialogclosed","editAttrForm","editAttrFormRules","saveEditAttr","staticRenderFns","data","expandTrigger","label","children","attr_name","created","getCateList","methods","getTableData","$refs","addAttrFormRef","resetFields","validate","editAttrFormRef","clearValidate","$confirm","confirmButtonText","cancelButtonText","message","duration","inputVisible","$nextTick","inputValue","attr_vals","push","saveAttrVal","splice","computed","cateId","component","non","METHOD_NAME","name","showAddCateDialog","columns","cat_deleted","staticStyle","cat_level","showEditCate","cat_id","removeCateById","cateQueryInfo","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","addCateDialogVisible","addCateDialogclosed","addCateForm","addCateFormRules","parentCateList","checkStrictly","parentCateChange","chosenKeys","saveAddCate","editCateDialogVisible","editCateDialogclosed","editCateForm","editCateFormRules","saveEditCate","cat_name","cat_pid","addCate","console","log","newSize","newPage","getParentCateList","addCateFormRef","editCateFormRef"],"mappings":"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","file":"js/Categories_Params.c9ec3dd1.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Categories.vue?vue&type=style&index=0&id=34dc941f&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"分类参数\")])],1),_c('el-card',[_c('el-alert',{attrs:{\"title\":\"注意: 只允许为第三级分类设置相关参数!\",\"type\":\"warning\",\"show-icon\":\"\",\"closable\":false}}),_c('el-row',{staticClass:\"good-choice\"},[_c('el-col',[_c('span',[_vm._v(\"选择商品分类:\")]),_c('el-cascader',{attrs:{\"options\":_vm.cateList,\"props\":_vm.cateProps,\"clearable\":\"\",\"size\":\"small\"},on:{\"change\":_vm.cateChange},model:{value:(_vm.selectedKeys),callback:function ($$v) {_vm.selectedKeys=$$v},expression:\"selectedKeys\"}})],1)],1),_c('el-row',{staticClass:\"tabnav\"},[_c('el-col',[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[[_c('el-tab-pane',{attrs:{\"label\":\"动态参数\",\"name\":\"many\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":_vm.isBtnDisabled},on:{\"click\":function($event){_vm.addAttrDialogVisible = true}}},[_vm._v(\" 添加参数 \")]),(_vm.activeName === 'many')?_c('el-table',{attrs:{\"data\":_vm.manyData,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._l((scope.row.attr_vals),function(item,index){return _c('el-tag',{key:index,attrs:{\"closable\":\"\",\"disable-transitions\":false},on:{\"close\":function($event){return _vm.removeValTag(scope.row, index)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),(scope.row.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":function($event){return _vm.handleInputConfirm(scope.row)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm(scope.row)}},model:{value:(scope.row.inputValue),callback:function ($$v) {_vm.$set(scope.row, \"inputValue\", $$v)},expression:\"scope.row.inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.showInput(scope.row)}}},[_vm._v(\"+ New Tag\")])]}}],null,false,2245866858)}),_c('el-table-column',{attrs:{\"type\":\"index\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"参数名称\",\"prop\":\"attr_name\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.showEditAttrDialog(scope.row.attr_id)}}},[_vm._v(\" 修改 \")]),_c('el-button',{attrs:{\"type\":\"danger \",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.removeAttrById(scope.row.attr_id)}}},[_vm._v(\" 删除 \")])]}}],null,false,1222309842)})],1):_vm._e()],1)],[_c('el-tab-pane',{attrs:{\"label\":\"静态属性\",\"name\":\"only\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":_vm.isBtnDisabled},on:{\"click\":function($event){_vm.addAttrDialogVisible = true}}},[_vm._v(\" 添加属性 \")]),(_vm.activeName === 'only')?_c('el-table',{attrs:{\"data\":_vm.onlyData,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._l((scope.row.attr_vals),function(item,index){return _c('el-tag',{key:index,attrs:{\"closable\":\"\",\"disable-transitions\":false},on:{\"close\":function($event){return _vm.removeValTag(scope.row, index)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),(scope.row.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":function($event){return _vm.handleInputConfirm(scope.row)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm(scope.row)}},model:{value:(scope.row.inputValue),callback:function ($$v) {_vm.$set(scope.row, \"inputValue\", $$v)},expression:\"scope.row.inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.showInput(scope.row)}}},[_vm._v(\"+ New Tag\")])]}}],null,false,2245866858)}),_c('el-table-column',{attrs:{\"type\":\"index\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"属性名称\",\"prop\":\"attr_name\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.showEditAttrDialog(scope.row.attr_id)}}},[_vm._v(\" 修改 \")]),_c('el-button',{attrs:{\"type\":\"danger \",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.removeAttrById(scope.row.attr_id)}}},[_vm._v(\" 删除 \")])]}}],null,false,1222309842)})],1):_vm._e()],1)]],2)],1)],1)],1),_c('el-dialog',{attrs:{\"title\":'添加' + _vm.titleContent,\"visible\":_vm.addAttrDialogVisible,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.addAttrDialogVisible=$event},\"close\":_vm.addAttrDialogclosed}},[_c('el-form',{ref:\"addAttrFormRef\",attrs:{\"model\":_vm.addAttrForm,\"rules\":_vm.addAttrFormRules,\"label-width\":\"134px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"参数名称\",\"prop\":\"attr_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入参数名称\",\"clearable\":\"\"},model:{value:(_vm.addAttrForm.attr_name),callback:function ($$v) {_vm.$set(_vm.addAttrForm, \"attr_name\", $$v)},expression:\"addAttrForm.attr_name\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addAttrDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveAddAttr}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":'修改' + _vm.titleContent,\"visible\":_vm.editAttrDialogVisible,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.editAttrDialogVisible=$event},\"close\":_vm.editAttrDialogclosed}},[_c('el-form',{ref:\"editAttrFormRef\",attrs:{\"model\":_vm.editAttrForm,\"rules\":_vm.editAttrFormRules,\"label-width\":\"134px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"参数名称\",\"prop\":\"attr_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入参数名称\",\"clearable\":\"\"},model:{value:(_vm.editAttrForm.attr_name),callback:function ($$v) {_vm.$set(_vm.editAttrForm, \"attr_name\", $$v)},expression:\"editAttrForm.attr_name\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editAttrDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveEditAttr}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n    <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n    <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n    <el-breadcrumb-item>分类参数</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <!-- 卡片视图 -->\r\n    <el-card>\r\n      <!-- 头部警告 -->\r\n      <el-alert\r\n        title=\"注意: 只允许为第三级分类设置相关参数!\"\r\n        type=\"warning\"\r\n        show-icon\r\n        :closable=\"false\">\r\n      </el-alert>\r\n      <!-- 选择商品分类区域 -->\r\n      <el-row class=\"good-choice\">\r\n        <el-col>\r\n          <span>选择商品分类:</span>\r\n          <el-cascader            \r\n            :options=\"cateList\"\r\n            :props=\"cateProps\"\r\n            v-model=\"selectedKeys\"\r\n            @change=\"cateChange\" clearable size=\"small\"></el-cascader>\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 标签页 -->\r\n      <el-row class=\"tabnav\">\r\n        <el-col>\r\n          <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">           \r\n            <!-- 动态参数页内容 -->\r\n            <template>\r\n              <el-tab-pane label=\"动态参数\" name=\"many\">\r\n                <el-button type=\"primary\" size=\"mini\" :disabled=\"isBtnDisabled\" @click=\"addAttrDialogVisible = true\">\r\n                  添加参数\r\n                </el-button>\r\n                <!-- 动态参数表格 -->\r\n                <el-table :data=\"manyData\" border stripe v-if=\"activeName === 'many'\">\r\n                  <!-- 展开列 -->\r\n                  <el-table-column type=\"expand\">\r\n                    <template v-slot=\"scope\">\r\n                      <el-tag v-for=\"(item,index) in scope.row.attr_vals\" :key=\"index\"\r\n                              closable :disable-transitions=\"false\" @close=\"removeValTag(scope.row, index)\">\r\n                        {{item}}  \r\n                      </el-tag>\r\n                      <el-input\r\n                        class=\"input-new-tag\"\r\n                        v-if=\"scope.row.inputVisible\"\r\n                        v-model=\"scope.row.inputValue\"\r\n                        ref=\"saveTagInput\"\r\n                        size=\"small\"\r\n                        @keyup.enter.native=\"handleInputConfirm(scope.row)\"\r\n                        @blur=\"handleInputConfirm(scope.row)\"\r\n                      >\r\n                      </el-input>\r\n                      <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput(scope.row)\">+ New Tag</el-button>\r\n                    </template>\r\n                  </el-table-column>\r\n\r\n                  <el-table-column type=\"index\" align=\"center\"></el-table-column>\r\n                  <el-table-column label=\"参数名称\" prop=\"attr_name\"></el-table-column>\r\n                  <el-table-column label=\"操作\">\r\n                    <template v-slot=\"scope\">\r\n                      <el-button type=\"primary\" @click=\"showEditAttrDialog(scope.row.attr_id)\" size=\"mini\" icon=\"el-icon-edit\">\r\n                        修改\r\n                      </el-button>\r\n                      <el-button type=\"danger \" @click=\"removeAttrById(scope.row.attr_id)\" size=\"mini\" icon=\"el-icon-delete\">\r\n                        删除\r\n                      </el-button>\r\n                    </template>\r\n                  </el-table-column>\r\n                </el-table>\r\n              </el-tab-pane>\r\n            </template>\r\n            <!-- 静态属性页内容 -->\r\n            <template>\r\n              <el-tab-pane label=\"静态属性\" name=\"only\">\r\n                <el-button type=\"primary\" size=\"mini\" :disabled=\"isBtnDisabled\" @click=\"addAttrDialogVisible = true\">\r\n                  添加属性\r\n                </el-button>\r\n                <!-- 静态属性表格 -->\r\n                <el-table :data=\"onlyData\" border stripe v-if=\"activeName === 'only'\">\r\n                  <!-- 展开列 -->\r\n                  <el-table-column type=\"expand\">\r\n                    <template v-slot=\"scope\">\r\n                      <el-tag v-for=\"(item,index) in scope.row.attr_vals\" :key=\"index\"\r\n                              closable :disable-transitions=\"false\" @close=\"removeValTag(scope.row, index)\">\r\n                        {{item}}\r\n                      </el-tag>\r\n                      <el-input\r\n                        class=\"input-new-tag\"\r\n                        v-if=\"scope.row.inputVisible\"\r\n                        v-model=\"scope.row.inputValue\"\r\n                        ref=\"saveTagInput\"\r\n                        size=\"small\"\r\n                        @keyup.enter.native=\"handleInputConfirm(scope.row)\"\r\n                        @blur=\"handleInputConfirm(scope.row)\"\r\n                      >\r\n                      </el-input>\r\n                      <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput(scope.row)\">+ New Tag</el-button>\r\n                    </template>\r\n                  </el-table-column>\r\n\r\n                  <el-table-column type=\"index\" align=\"center\"></el-table-column>\r\n                  <el-table-column label=\"属性名称\" prop=\"attr_name\"></el-table-column>\r\n                  <el-table-column label=\"操作\">\r\n                    <template v-slot=\"scope\">\r\n                      <el-button type=\"primary\" @click=\"showEditAttrDialog(scope.row.attr_id)\" size=\"mini\" icon=\"el-icon-edit\">\r\n                        修改\r\n                      </el-button>\r\n                      <el-button type=\"danger \" @click=\"removeAttrById(scope.row.attr_id)\" size=\"mini\" icon=\"el-icon-delete\">\r\n                        删除\r\n                      </el-button>\r\n                    </template>\r\n                  </el-table-column>\r\n                </el-table>\r\n              </el-tab-pane>\r\n            </template>\r\n          </el-tabs>\r\n        </el-col>\r\n      </el-row>\r\n    <!--  -->\r\n    </el-card>\r\n\r\n    <!-- 添加动态参数\\静态属性对话框 -->\r\n    <el-dialog\r\n      :title=\"'添加' + titleContent\"\r\n      :visible.sync=\"addAttrDialogVisible\"\r\n      width=\"600px\"\r\n      @close=\"addAttrDialogclosed\">\r\n      <!-- 对话框内容 -->\r\n      <el-form @submit.native.prevent :model=\"addAttrForm\" :rules=\"addAttrFormRules\" ref=\"addAttrFormRef\" label-width=\"134px\">\r\n        <el-form-item label=\"参数名称\" prop=\"attr_name\">\r\n          <el-input v-model=\"addAttrForm.attr_name\" placeholder=\"请输入参数名称\" clearable>\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 底部按钮 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addAttrDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveAddAttr\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 修改动态参数\\静态属性对话框 -->\r\n    <el-dialog\r\n      :title=\"'修改' + titleContent\"\r\n      :visible.sync=\"editAttrDialogVisible\"\r\n      width=\"600px\"\r\n      @close=\"editAttrDialogclosed\">\r\n      <!-- 对话框内容 -->\r\n      <el-form @submit.native.prevent :model=\"editAttrForm\" :rules=\"editAttrFormRules\" ref=\"editAttrFormRef\" label-width=\"134px\">\r\n        <el-form-item label=\"参数名称\" prop=\"attr_name\">\r\n          <el-input v-model=\"editAttrForm.attr_name\" placeholder=\"请输入参数名称\" clearable>\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 底部按钮 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editAttrDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveEditAttr\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 商品分类列表 \r\n      cateList: [],\r\n      // 级联选择器配置\r\n      cateProps: {\r\n        expandTrigger: 'hover',\r\n        value: 'cat_id',\r\n        label: 'cat_name',\r\n        children: 'children'\r\n      },\r\n      // 选中的商品分类 \r\n      selectedKeys: [],\r\n      // 当前活跃标签页\r\n      activeName: 'many',\r\n      // 动态参数数据 \r\n      manyData: [],\r\n      // 静态属性数据 \r\n      onlyData: [],\r\n      // 控制添加参数/属性对话框的显示\r\n      addAttrDialogVisible: false,\r\n      // 添加参数表单数据 \r\n      addAttrForm: {\r\n        attr_name: ''\r\n      },\r\n      // 验证添加参数表单规则 \r\n      addAttrFormRules: {\r\n        attr_name: [\r\n          { required: true, message: '请输入参数名称', trigger: 'blur'}\r\n        ] \r\n      },\r\n      // 控制修改参数/属性对话框的显示\r\n      editAttrDialogVisible: false,\r\n      // 保存修改参数表单数据 \r\n      editAttrForm: {},\r\n      // 验证修改参数表单规则 \r\n      editAttrFormRules: {\r\n        attr_name: [\r\n          { required: true, message: '请输入参数名称', trigger: 'blur'}\r\n        ] \r\n      }    \r\n    }\r\n  },\r\n  created() {\r\n    this.getCateList()\r\n  },\r\n  methods: {\r\n    // 获取商品分类列表\r\n    async getCateList() {\r\n      const {data: res} = await this.$http.get('categories')\r\n      if(res.meta.status !== 200) {\r\n        return this.$message.error({\r\n          message: '获取商品分类列表失败!',\r\n          duration: 1500\r\n        })\r\n      }\r\n      // console.log(res);\r\n      this.cateList = res.data\r\n    },\r\n    // 监听商品分类的选择\r\n    cateChange() {\r\n      if(this.selectedKeys.length !== 3) {\r\n        this.selectedKeys = []\r\n        this.manyData = []\r\n        this.onlyData = []\r\n        return\r\n      }\r\n      // console.log(this.selectedKeys);\r\n      this.getTableData()\r\n    },\r\n    // 点击标签页\r\n    handleClick() {\r\n      if(this.selectedKeys.length !== 3) return\r\n      this.getTableData()\r\n    },\r\n    // 发起请求获取(动态参数/静态属性)表格数据\r\n    async getTableData() {\r\n      // 将表格数据重新赋值为空数组,解决数据更新引起的el-table重绘时的数据闪烁问题\r\n      this.manyData = []\r\n      this.onlyData = []\r\n      const {data: res} = await this.$http.get(`categories/${this.cateId}/attributes`,{\r\n        params:{sel: this.activeName}\r\n      })\r\n      if(res.meta.status !== 200) {\r\n        return this.$message.error({\r\n          message: '获取表格数据失败!',\r\n          duration: 1000\r\n        })\r\n      }\r\n      // 将vals从字符串转换为数组\r\n      res.data.forEach(item => {\r\n        item.attr_vals = item.attr_vals ? item.attr_vals.split(',') : []\r\n        // 给每个参数设置单独的inputVisible,inputValue;\r\n        item.inputVisible = false\r\n        item.inputValue = ''\r\n      });\r\n      // console.log(res.data);\r\n      if(this.activeName === 'many') {\r\n        this.manyData = res.data\r\n        return\r\n      } else {\r\n        this.onlyData = res.data\r\n        return\r\n      }\r\n    },\r\n    // 监听添加(动态参数/静态属性)对话框关闭\r\n    addAttrDialogclosed() {\r\n      // 重置表单\r\n      this.$refs.addAttrFormRef.resetFields()\r\n    },\r\n    // 确认添加(动态参数/静态属性)\r\n    saveAddAttr() {\r\n      // 预验证\r\n      this.$refs.addAttrFormRef.validate(async valid => {\r\n        if(!valid) return\r\n        // 成功发送请求\r\n        const {data: res} = await this.$http.post(`categories/${this.cateId}/attributes`, {\r\n          attr_name: this.addAttrForm.attr_name,\r\n          attr_sel: this.activeName\r\n        })\r\n        if(res.meta.status !== 201) {\r\n          return this.$message.error({\r\n            message: '添加参数失败!',\r\n            duration: 1000\r\n          })\r\n        }\r\n        this.addAttrDialogVisible = false\r\n        this.$message.success({\r\n          message: '添加参数成功!',\r\n          duration: 1000\r\n        })\r\n        this.getTableData()\r\n      })\r\n    },\r\n    // 展示修改(动态参数/静态属性)对话框\r\n    async showEditAttrDialog(id) {\r\n      // 根据ID查询(动态参数/静态属性)\r\n      const {data: res} = await this.$http.get(`categories/${this.cateId}/attributes/` + id, {\r\n        params: {attr_sel: this.activeName}\r\n      })\r\n      if(res.meta.status !== 200) {\r\n        return this.$message.error({\r\n          message: '获取' + this.titleContent + '信息失败!',\r\n          duration: 1000\r\n        })\r\n      }\r\n      this.editAttrForm = res.data\r\n      // console.log(this.editAttrForm);\r\n      this.editAttrDialogVisible = true\r\n    },\r\n    // 确认修改(动态参数/静态属性)\r\n    saveEditAttr() {\r\n      // 预验证\r\n      this.$refs.editAttrFormRef.validate(async valid => {\r\n        if(!valid) return\r\n        // 通过后发起请求\r\n        const {data: res} = await this.$http.put(`categories/${this.cateId}/attributes/${this.editAttrForm.attr_id}`, {\r\n          attr_name: this.editAttrForm.attr_name,\r\n          attr_sel: this.activeName,\r\n          attr_vals: this.editAttrForm.attr_vals\r\n        })\r\n        if(res.meta.status !== 200) {\r\n          return this.$message.error({\r\n            message: '修改' + this.titleContent + '失败!',\r\n            duration: 1500\r\n          })\r\n        }\r\n        this.editAttrDialogVisible = false\r\n        this.$message.success({\r\n          message: '修改' + this.titleContent + '成功!',\r\n          duration: 1500\r\n        })\r\n        this.getTableData()\r\n      })\r\n    },\r\n    // 监听修改(动态参数/静态属性)对话框关闭\r\n    editAttrDialogclosed() {\r\n      // 不需要重置表单\r\n      // this.$refs.editAttrFormRef.resetFields()\r\n      // 去除校验\r\n      this.$refs.editAttrFormRef.clearValidate()\r\n    },\r\n    // 根据ID删除(动态参数/静态属性)\r\n    removeAttrById(id) {\r\n      // 弹框确认\r\n      this.$confirm(`'此操作将永久删除该'${this.titleContent}, 是否继续?`, '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(async () => {\r\n        const {data: res} = await this.$http.delete(`categories/${this.cateId}/attributes/` + id)\r\n        if(res.meta.status !== 200) {\r\n          return this.$message.error({\r\n            message: '删除' + this.titleContent + '失败!',\r\n            duration: 1500\r\n          })\r\n        }\r\n        this.$message.success({\r\n          message: '删除' + this.titleContent + '成功!',\r\n          duration: 1500\r\n        })\r\n        this.getTableData()\r\n      }).catch(() => {\r\n        this.$message({\r\n          message: '已取消删除',\r\n          duration: 1500\r\n        })\r\n      })\r\n     \r\n    },\r\n    // 展示tag输入框\r\n    showInput(row) {\r\n      row.inputVisible = true;\r\n      this.$nextTick(_ => {\r\n        this.$refs.saveTagInput.$refs.input.focus();\r\n      })\r\n    },\r\n    // 监听input框失去焦点和敲击enter键\r\n    handleInputConfirm(row) {\r\n      if (!row.inputValue.trim()) {\r\n        // console.log(row.inputValue.trim());\r\n        row.inputVisible = false;\r\n        row.inputValue = '';\r\n        return\r\n      }\r\n      // console.log(row.inputValue.trim());\r\n      row.attr_vals.push(row.inputValue.trim())\r\n      row.inputVisible = false;\r\n      row.inputValue = '';\r\n      // console.log(row.attr_vals);\r\n      // 保存修改参数项\r\n      this.saveAttrVal(row)\r\n    },\r\n    // 关闭标签删除参数项\r\n    removeValTag(row, index) {\r\n      // console.log(row, index);\r\n      row.attr_vals.splice(index, 1)\r\n      this.saveAttrVal(row)\r\n    },\r\n    // 发送请求,提交参数项attr_vals\r\n    async saveAttrVal(row) {\r\n      const {data: res} = await this.$http.put(`categories/${this.cateId}/attributes/${row.attr_id}`, {\r\n        attr_name: row.attr_name,\r\n        attr_sel: this.activeName,\r\n        attr_vals: row.attr_vals.join(',')\r\n      })\r\n      if(res.meta.status !== 200) {\r\n        return this.$message.error({\r\n          message: '更新参数项失败!',\r\n          duration: 1500\r\n        })\r\n      }\r\n      this.$message.success({\r\n        message: '更新参数项成功!',\r\n        duration: 1500\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    // 按钮是否禁用\r\n    isBtnDisabled() {\r\n      if(this.selectedKeys.length !== 3) {\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n    // 保存第三级分类ID\r\n    cateId() {\r\n      if(this.selectedKeys.length !== 3) {\r\n        return null\r\n      }\r\n      return this.selectedKeys[2]\r\n    },\r\n    // 添加对话框的标题转换（参数/属性）\r\n    titleContent() {\r\n      if(this.activeName === 'many') {\r\n        return '动态参数'\r\n      }\r\n      return '静态属性'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.good-choice {\r\n  margin-top: 20px;\r\n  font-size: 14px;\r\n  .el-cascader {\r\n    margin-left: 20px;\r\n  }\r\n}\r\n.tabnav {\r\n  margin-top: 20px;\r\n}\r\n.el-input {\r\n  width: 350px;\r\n}\r\n.el-tag {\r\n  margin: 5px 15px 5px 0;\r\n}\r\n.input-new-tag {\r\n  width: 89px;\r\n}\r\n.v-cloak {\r\n  display: none;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Params.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Params.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Params.vue?vue&type=template&id=076f8d46&scoped=true&\"\nimport script from \"./Params.vue?vue&type=script&lang=js&\"\nexport * from \"./Params.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Params.vue?vue&type=style&index=0&id=076f8d46&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"076f8d46\",\n  null\n  \n)\n\nexport default component.exports","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Params.vue?vue&type=style&index=0&id=076f8d46&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品分类\")])],1),_c('el-card',[_c('el-row',[_c('el-col',[_c('el-button',{staticClass:\"addCate\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.showAddCateDialog}},[_vm._v(\"添加分类\")])],1)],1),_c('tree-table',{staticClass:\"tree-table\",attrs:{\"data\":_vm.cateList,\"columns\":_vm.columns,\"show-index\":\"\",\"index-text\":\"\",\"show-row-hover\":false,\"border\":\"\",\"expand-type\":false,\"selection-type\":false},scopedSlots:_vm._u([{key:\"available\",fn:function(scope){return [(scope.row.cat_deleted === false)?_c('i',{staticClass:\"el-icon-success\",staticStyle:{\"color\":\"lightgreen\"}}):_c('i',{staticClass:\"el-icon-error\",staticStyle:{\"color\":\"red\"}})]}},{key:\"sort\",fn:function(scope){return [(scope.row.cat_level === 0)?_c('el-tag',{attrs:{\"size\":\"mini\"}},[_vm._v(\"一级\")]):(scope.row.cat_level === 1)?_c('el-tag',{attrs:{\"size\":\"mini\",\"type\":\"success\"}},[_vm._v(\"二级\")]):_c('el-tag',{attrs:{\"size\":\"mini\",\"type\":\"warning\"}},[_vm._v(\"三级\")])]}},{key:\"operate\",fn:function(scope){return [_c('el-button',{attrs:{\"icon\":\"el-icon-edit\",\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditCate(scope.row.cat_id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-delete\",\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeCateById(scope.row.cat_id)}}},[_vm._v(\"删除\")])]}}])}),_c('el-pagination',{attrs:{\"current-page\":_vm.cateQueryInfo.pagenum,\"page-sizes\":[5, 10, 15, 20],\"page-size\":_vm.cateQueryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加分类\",\"visible\":_vm.addCateDialogVisible,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.addCateDialogVisible=$event},\"close\":_vm.addCateDialogclosed}},[_c('el-form',{ref:\"addCateFormRef\",attrs:{\"model\":_vm.addCateForm,\"rules\":_vm.addCateFormRules,\"label-width\":\"134px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"cat_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入分类名称\",\"clearable\":\"\"},model:{value:(_vm.addCateForm.cat_name),callback:function ($$v) {_vm.$set(_vm.addCateForm, \"cat_name\", $$v)},expression:\"addCateForm.cat_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"父级分类\"}},[_c('el-cascader',{ref:\"cascader\",attrs:{\"options\":_vm.parentCateList,\"props\":{ expandTrigger: 'hover' ,value: 'cat_id',label: 'cat_name',children: 'children', checkStrictly: 'true'},\"clearable\":\"\"},on:{\"change\":_vm.parentCateChange},model:{value:(_vm.chosenKeys),callback:function ($$v) {_vm.chosenKeys=$$v},expression:\"chosenKeys\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addCateDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveAddCate}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"编辑分类\",\"visible\":_vm.editCateDialogVisible,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.editCateDialogVisible=$event},\"close\":_vm.editCateDialogclosed}},[_c('el-form',{ref:\"editCateFormRef\",attrs:{\"model\":_vm.editCateForm,\"rules\":_vm.editCateFormRules,\"label-width\":\"134px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"cat_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入分类名称\",\"clearable\":\"\"},model:{value:(_vm.editCateForm.cat_name),callback:function ($$v) {_vm.$set(_vm.editCateForm, \"cat_name\", $$v)},expression:\"editCateForm.cat_name\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editCateDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveEditCate}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n    <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n    <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n    <el-breadcrumb-item>商品分类</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <!-- 卡片视图 -->\r\n    <el-card>\r\n      <!-- 添加分类按钮 -->\r\n      <el-row>\r\n        <el-col>\r\n          <el-button class=\"addCate\" type=\"primary\" @click=\"showAddCateDialog\">添加分类</el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 商品分类表格 -->\r\n      <tree-table class=\"tree-table\" :data=\"cateList\" :columns=\"columns\" show-index index-text=\"\"\r\n                  :show-row-hover=\"false\" border :expand-type=\"false\" :selection-type=\"false\">\r\n        <!-- 是否有效 -->\r\n        <template slot=\"available\" slot-scope=\"scope\">\r\n          <i class=\"el-icon-success\" v-if=\"scope.row.cat_deleted === false\" style=\"color: lightgreen;\"></i>\r\n          <i class=\"el-icon-error\" v-else style=\"color: red;\"></i>\r\n        </template>\r\n        <!-- 排序 -->\r\n        <template slot=\"sort\" slot-scope=\"scope\">\r\n          <el-tag size=\"mini\" v-if=\"scope.row.cat_level === 0\">一级</el-tag>\r\n          <el-tag size=\"mini\" type=\"success\" v-else-if=\"scope.row.cat_level === 1\">二级</el-tag>\r\n          <el-tag size=\"mini\" type=\"warning\" v-else>三级</el-tag>\r\n        </template>\r\n        <!-- 操作 -->\r\n        <template slot=\"operate\" slot-scope=\"scope\">\r\n          <el-button icon=\"el-icon-edit\" type=\"primary\" size=\"mini\" @click=\"showEditCate(scope.row.cat_id)\">编辑</el-button>\r\n          <el-button icon=\"el-icon-delete\" type=\"danger\" size=\"mini\" @click=\"removeCateById(scope.row.cat_id)\">删除</el-button>\r\n        </template>\r\n      </tree-table>\r\n      <!-- 分页区域 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"cateQueryInfo.pagenum\"\r\n        :page-sizes=\"[5, 10, 15, 20]\"\r\n        :page-size=\"cateQueryInfo.pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n    <!--  -->\r\n    </el-card>\r\n\r\n    <!-- 添加分类的对话框 -->\r\n    <el-dialog\r\n      title=\"添加分类\"\r\n      :visible.sync=\"addCateDialogVisible\"\r\n      width=\"600px\"\r\n      @close=\"addCateDialogclosed\">\r\n      <!-- 对话框内容 -->\r\n      <el-form @submit.native.prevent :model=\"addCateForm\" :rules=\"addCateFormRules\" ref=\"addCateFormRef\" label-width=\"134px\">\r\n        <el-form-item label=\"分类名称\" prop=\"cat_name\">\r\n          <el-input v-model=\"addCateForm.cat_name\" placeholder=\"请输入分类名称\" clearable>\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"父级分类\">\r\n          <el-cascader            \r\n            :options=\"parentCateList\"\r\n            :props=\"{ expandTrigger: 'hover' ,value: 'cat_id',label: 'cat_name',children: 'children', checkStrictly: 'true'}\"\r\n            v-model=\"chosenKeys\"\r\n            @change=\"parentCateChange\" clearable ref=\"cascader\"></el-cascader>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 底部按钮 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addCateDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveAddCate\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 编辑分类的对话框 -->\r\n    <el-dialog\r\n      title=\"编辑分类\"\r\n      :visible.sync=\"editCateDialogVisible\"\r\n      width=\"600px\"\r\n      @close=\"editCateDialogclosed\">\r\n      <!-- 对话框内容 -->\r\n      <el-form @submit.native.prevent :model=\"editCateForm\" :rules=\"editCateFormRules\" ref=\"editCateFormRef\" label-width=\"134px\">\r\n        <el-form-item label=\"分类名称\" prop=\"cat_name\">\r\n          <el-input v-model=\"editCateForm.cat_name\" placeholder=\"请输入分类名称\" clearable>\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 底部按钮 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editCateDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveEditCate\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 获取商品分类列表的参数 \r\n      cateQueryInfo: {\r\n        type: 3,\r\n        pagenum: 1,\r\n        pagesize: 5\r\n      },\r\n      // 保存商品分类数据列表\r\n      cateList: [],\r\n      // 商品分类数据总数（用于实现分页）\r\n      total: 0,\r\n      // tree-table列定义\r\n      columns: [\r\n        {\r\n          label: '分类名称',\r\n          prop: 'cat_name'\r\n        },\r\n        {\r\n          label: '是否有效',\r\n          type: 'template',\r\n          template: 'available'\r\n        },\r\n        {\r\n          label: '排序',\r\n          type: 'template',\r\n          template: 'sort'\r\n        },\r\n        {\r\n          label: '操作',\r\n          type: 'template',\r\n          template: 'operate',\r\n          width: 200,\r\n          align: 'center'\r\n        }\r\n      ],\r\n      // 显示添加分类对话框的状态 \r\n      addCateDialogVisible: false,\r\n      // 添加分类表单数据 \r\n      addCateForm: {\r\n        cat_name: '',\r\n        cat_pid: 0,\r\n        cat_level: 0\r\n      },\r\n      // 添加分类表单验证 \r\n      addCateFormRules: {\r\n        cat_name:[\r\n          { required: true, message: '请输入分类名称', trigger: 'blur'}\r\n        ]\r\n      },\r\n      // 父级分类数据\r\n      parentCateList: [],\r\n      // 已选父级分类ID \r\n      chosenKeys:[],\r\n      // 显示编辑分类对话框的状态 \r\n      editCateDialogVisible: false,\r\n      // 保存请求过来的编辑分类表单数据\r\n      editCateForm: {},\r\n      // 编辑分类表单验证 \r\n      editCateFormRules: {\r\n        cat_name:[\r\n          { required: true, message: '请输入分类名称', trigger: 'blur'}\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getCateList()\r\n  },\r\n  methods: {\r\n    // 获取商品分类数据列表\r\n    async getCateList() {\r\n      const {data: res} = await this.$http.get('categories', {params: this.cateQueryInfo})\r\n      if(res.meta.status !== 200) {\r\n        return this.$message.error({\r\n          message: '获取商品分类数据失败!',\r\n          duration: 1500\r\n        })\r\n      }\r\n      // console.log(res.data);\r\n      this.cateList = res.data.result\r\n      this.total = res.data.total\r\n    },\r\n    addCate() {\r\n      console.log('添加分类');\r\n    },\r\n    // 监听每页条数改变\r\n    handleSizeChange(newSize) {\r\n      this.cateQueryInfo.pagesize = newSize\r\n      this.getCateList()\r\n    },\r\n    // 监听当前页码改变\r\n    handleCurrentChange(newPage) {\r\n      this.cateQueryInfo.pagenum = newPage\r\n      this.getCateList()\r\n    },\r\n    // 展示添加分类对话框\r\n    showAddCateDialog() {\r\n      this.getParentCateList()\r\n      this.addCateDialogVisible = true\r\n    },\r\n    // 获取父级分类表单\r\n    async getParentCateList() {\r\n      const {data: res} = await this.$http.get('categories',{params: {type: 2}})\r\n      // console.log(res);\r\n      if(res.meta.status !== 200) {\r\n        return  this.$message.error({\r\n          message: '获取父级分类失败!',\r\n          duration: 1000\r\n        })\r\n      }\r\n      this.parentCateList = res.data\r\n    },\r\n    // 监听选择父级分类的变化\r\n    parentCateChange() {\r\n      // console.log(this.chosenKeys);\r\n      if(this.chosenKeys.length) {\r\n        this.addCateForm.cat_pid = this.chosenKeys[this.chosenKeys.length - 1]\r\n        this.addCateForm.cat_level = this.chosenKeys.length\r\n        // console.log(this.addCateForm.cat_pid, this.addCateForm.cat_level);\r\n        // 选中分类后关闭级联选择下拉框\r\n        return  this.$refs.cascader.dropDownVisible = false      \r\n      }\r\n      this.addCateForm.cat_pid = 0\r\n      this.addCateForm.cat_level = 0\r\n      // console.log(this.addCateForm.cat_pid, this.addCateForm.cat_level);\r\n    },\r\n    // 点击确认添加新的商品分类\r\n    saveAddCate() {\r\n      // 预验证并提交表单\r\n      this.$refs.addCateFormRef.validate(async valid => {\r\n        // console.log(valid);\r\n        if(!valid) return\r\n        const {data: res} = await this.$http.post('categories',this.addCateForm)\r\n        if(res.meta.status !== 201) {\r\n          return this.$message.error({\r\n            message: '添加分类失败!',\r\n            duration: 1000\r\n          })\r\n        }\r\n        this.$message.success({\r\n          message: '添加分类成功!',\r\n          duration: 1000\r\n        })\r\n        this.getCateList()\r\n        // 关闭对话框\r\n        this.addCateDialogVisible = false\r\n      })\r\n    },\r\n    // 监听添加分类对话框的关闭\r\n    addCateDialogclosed() {\r\n      this.$refs.addCateFormRef.resetFields()\r\n      this.chosenKeys = []\r\n      this.addCateForm.cat_pid = 0\r\n      this.addCateForm.cat_level = 0\r\n    },\r\n    // 展示编辑分类对话框\r\n    async showEditCate(id) {\r\n      // console.log(id);\r\n      const {data: res} = await this.$http.get('categories/' + id)\r\n      // console.log(res);\r\n      if(res.meta.status !== 200) {\r\n        return this.$message.error({\r\n          message: '获取分类失败!',\r\n          duration: 1000\r\n        })\r\n      }\r\n      this.editCateForm = res.data\r\n      // console.log(this.editCateForm);\r\n      this.editCateDialogVisible = true\r\n    },\r\n    // 监听编辑分类对话框的关闭\r\n    editCateDialogclosed() {\r\n      this.$refs.editCateFormRef.clearValidate()\r\n    },\r\n    // 确认编辑分类\r\n    saveEditCate() {\r\n      this.$refs.editCateFormRef.validate(async valid => {\r\n        if(!valid) return\r\n        const{data: res} = await this.$http.put('categories/' + this.editCateForm.cat_id, {\r\n          cat_name: this.editCateForm.cat_name\r\n        })\r\n        if(res.meta.status !== 200) {\r\n          return this.$message.error({\r\n            message: '更新分类失败!',\r\n            duration: 1000\r\n          })\r\n        }\r\n        this.editCateDialogVisible = false \r\n        this.getCateList()\r\n        this.$message.success({\r\n          message: '更新分类成功!',\r\n          duration: 1000\r\n        })       \r\n      })\r\n    },\r\n    // 根据ID删除分类\r\n    removeCateById(id) {\r\n      // console.log(id);\r\n      this.$confirm('此操作将永久删除该分类, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(async () => {\r\n        const {data: res} = await this.$http.delete('categories/' + id)\r\n        if(res.meta.status !== 200) {\r\n          return this.$message.error({\r\n            message: '删除分类失败!',\r\n            duration: 1000\r\n          })\r\n        }\r\n        this.$message.success({\r\n          message: '删除分类成功!',\r\n          duration: 1000\r\n        })\r\n        this.getCateList()\r\n      }).catch(() => {\r\n        this.$message({\r\n          message: '已取消删除',\r\n          duration: 1000\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.addCate {\r\n  padding-left: 15px;\r\n  padding-right: 13px;\r\n  font-size: 14px;\r\n  letter-spacing: .8px;  \r\n}\r\n.tree-table {\r\n  margin-top: 20px;\r\n  font-size: 14px;\r\n}\r\n.el-input {\r\n  width: 350px;\r\n}\r\n.el-cascader {\r\n  width: 350px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Categories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Categories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Categories.vue?vue&type=template&id=34dc941f&scoped=true&\"\nimport script from \"./Categories.vue?vue&type=script&lang=js&\"\nexport * from \"./Categories.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Categories.vue?vue&type=style&index=0&id=34dc941f&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34dc941f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}